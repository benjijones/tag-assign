<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Thu Mar 27 18:00:54 EDT 2014 -->
<title>TableAPIExample (Oracle NoSQL Database Examples)</title>
<meta name="date" content="2014-03-27">
<link rel="stylesheet" type="text/css" href="../style.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TableAPIExample (Oracle NoSQL Database Examples)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TableAPIExample.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><b>Oracle NoSQL Database Examples</b><br><font size=\"-1\"> version 12cR1.3.0.5</font>
      </em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../index.html?table/TableAPIExample.html" target="_top">Frames</a></li>
<li><a href="TableAPIExample.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">table</div>
<h2 title="Class TableAPIExample" class="title">Class TableAPIExample</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>table.TableAPIExample</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">TableAPIExample</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This file includes a number of examples that demonstrate some of the
 features of tables and secondary indexes in Oracle NoSQL Database.
 <p>
 See the <a href="../table/package-summary.html"><code>package documentation</code></a> for instructions on
 how to build and run these examples.  They require a running store that
 has had some required tables and indexes created.  The usage for this
 program is as follows:
 <pre>
 java table.TableAPIExample [-store &lt;instance name&gt;] \
                            [-host  &lt;host name&gt;]     \
                            [-port  &lt;port number&gt;]   \
                            [-example &ltall | example_to_run&gt;]
 </pre>
 By default all examples are run.  Multiple examples can be run using the
 -example flag multiple times.
 <p>
 All examples use the default store, host, and port of <i>kvstore, localhost,
 and 5000</i>.  These are the defaults for KVLite as well.
 <h3>Description of Examples</h3>
 <ol>
 <li>
 Creates a very simple table and does simple put and get of a row.
 </li>
 <li>
 Uses simple and composite indexese on the table <i>simpleUsers</i> to
 demonstrate index scans.
 </li>
 <li>
 This example uses a table that has a composite primary key and
 a defined shard key.  This demonstrates the ability to ensure that
 rows with the same shard key are stored in the same shard and are
 therefore accessible in an atomic manner.  Such rows can also be
 accessed using the various "multi*" API operations.
 </li>
 <li>
 This example uses a parent/child table relationship to demonstrate how
 to put and get to/from a child table.  It also uses an index on the child
 table to retrieve child rows via the index.
 </li>
 <li>
 This example uses a table with complex fields (Record, Array, Map) to
 demonstrate input and output of rows in tables with such fields.
 </li>
 <li>
 This example uses an index on the array from the complex field example
 table to demonstrate use of an array index.
 </li>
 <li>
 Demonstrates use of table version, row table version, and the Version of a
 row to handle changes related to table schema evolution.  This example
 requires running the evolve_table.kvs script to see changes.
 </li>
 <li>
 This example uses tables that were created in R2 compatibility mode where
 tables are intended to overlay existing R2 data.  This is possible for
 R2 key-only applications as well as R2 applications with Avro schemas that
 are compatible with tables (most will be, but not all).
 </li>
 <li>
 This is a simple example of a key-only table.
 </li>
 </ol></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../table/TableAPIExample.html#TableAPIExample(java.lang.String[])">TableAPIExample</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;argv)</code>
<div class="block">Parses command line args and opens the KVStore.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../table/TableAPIExample.html#main(java.lang.String[])">main</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)</code>
<div class="block">Runs the TableAPIExample command line program.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../table/TableAPIExample.html#runExample1()">runExample1</a></strong>()</code>
<div class="block">Example 1: Hello World!

 This example shows a simple use of tables, it uses a simple table
 holding an id field as a primary key and 2 fields -- name and surname --
 as Strings.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../table/TableAPIExample.html#runExample2()">runExample2</a></strong>()</code>
<div class="block">Example 2: Secondary Index

 This example uses 2 indexes on the table "simpleUsers."  One is a
 simple, single-field index on "firstName" and the other is a
 composite index on "lastName, firstName".</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../table/TableAPIExample.html#runExample3()">runExample3</a></strong>()</code>
<div class="block">Example 3: Shard keys

 This example uses a table that has a composite primary key and
 a defined shard key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../table/TableAPIExample.html#runExample4()">runExample4</a></strong>()</code>
<div class="block">Example 4: Parent and Child tables

 This example demonstrates use of parent and child tables.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../table/TableAPIExample.html#runExample5()">runExample5</a></strong>()</code>
<div class="block">Example 5: Complex fields

 This example demonstrates how to create, populate and read complex
 fields (Array, Map, Record) in a table.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../table/TableAPIExample.html#runExample6()">runExample6</a></strong>()</code>
<div class="block">Example 6: Secondary index on array

 This example demonstrates use of a secondary index on an array.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../table/TableAPIExample.html#runExample7()">runExample7</a></strong>()</code>
<div class="block">Example 7: Evolve Table

 This example requires use of the evolve_table.kvs script to help
 demonstrate how to handle schema evolution of a table.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../table/TableAPIExample.html#runExample8()">runExample8</a></strong>()</code>
<div class="block">Example 8: R2 compatibility example

 This example uses a table created using an avro schema and a table
 with r2 compatibility enabled.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../table/TableAPIExample.html#runExample9()">runExample9</a></strong>()</code>
<div class="block">Example 9: Primary key table

 This example shows how all the fields in a table can be assigned
 as part of the primary key as a key-only table.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TableAPIExample(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TableAPIExample</h4>
<pre>TableAPIExample(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;argv)</pre>
<div class="block">Parses command line args and opens the KVStore.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)</pre>
<div class="block">Runs the TableAPIExample command line program.</div>
</li>
</ul>
<a name="runExample1()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runExample1</h4>
<pre>void&nbsp;runExample1()</pre>
<div class="block">Example 1: Hello World!

 This example shows a simple use of tables, it uses a simple table
 holding an id field as a primary key and 2 fields -- name and surname --
 as Strings.  It does basic put and get.</div>
</li>
</ul>
<a name="runExample2()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runExample2</h4>
<pre>void&nbsp;runExample2()</pre>
<div class="block">Example 2: Secondary Index

 This example uses 2 indexes on the table "simpleUsers."  One is a
 simple, single-field index on "firstName" and the other is a
 composite index on "lastName, firstName".</div>
</li>
</ul>
<a name="runExample3()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runExample3</h4>
<pre>void&nbsp;runExample3()</pre>
<div class="block">Example 3: Shard keys

 This example uses a table that has a composite primary key and
 a defined shard key.  This demonstrates the ability to ensure that
 rows with the same shard key are stored in the same shard and are
 therefore accessible in an atomic manner.  Such rows can also be
 accessed using the various "multi*" API operations.</div>
</li>
</ul>
<a name="runExample4()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runExample4</h4>
<pre>void&nbsp;runExample4()</pre>
<div class="block">Example 4: Parent and Child tables

 This example demonstrates use of parent and child tables.  The parent
 table is the shardUsers table used above and the child table is a
 table of addresses for a given user, allowing definition of multiple
 addresses for a user.</div>
</li>
</ul>
<a name="runExample5()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runExample5</h4>
<pre>void&nbsp;runExample5()</pre>
<div class="block">Example 5: Complex fields

 This example demonstrates how to create, populate and read complex
 fields (Array, Map, Record) in a table.</div>
</li>
</ul>
<a name="runExample6()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runExample6</h4>
<pre>void&nbsp;runExample6()</pre>
<div class="block">Example 6: Secondary index on array

 This example demonstrates use of a secondary index on an array.
 An important thing to note about indexes on arrays is that a
 independent index entry is generated for each value in the array.
 This can lead to an explosion of entries as well as potential for
 duplication in results (e.g. if the same array value repeats in
 the same row).

 This example uses the same table as the complex field example.
 There is an index on the "likes" array.</div>
</li>
</ul>
<a name="runExample7()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runExample7</h4>
<pre>void&nbsp;runExample7()</pre>
<div class="block">Example 7: Evolve Table

 This example requires use of the evolve_table.kvs script to help
 demonstrate how to handle schema evolution of a table.

 It shows how to evolve a table using CLI commands and how to
 protect code from accessing older version tables using the
 getTableVersion and the Version returned by row operations.

 NOTE: This example needs to run the script evolve_table to show
 the differences between an evolved table and a new table.
 kv-> load -file &lt;store directory&gt;/example/tables/evolve_table.kvs

 The evolution does this:
 1. removes the "phoneNumber" field
 2. adds a String "comment" field

 To see a change, run this example, then run evolve_table.kvs and
 run the example again.  When this is done you will see the default
 value set for the new "comment" field and the fact that the removed
 "phoneNumber" field does not appear.

 In a real application a combination of the table version, the row's
 table version (the table version used to write the row) and the row's
 Version object can be used to protect the application from unexpected
 changes.</div>
</li>
</ul>
<a name="runExample8()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runExample8</h4>
<pre>void&nbsp;runExample8()</pre>
<div class="block">Example 8: R2 compatibility example

 This example uses a table created using an avro schema and a table
 with r2 compatibility enabled.

 These features are intended for migration of the key/value API to the
 table API.  Such migration is required in order to add indexes on
 R2 data.

 TODO: add actual R2 data to this example to show compatibility.</div>
</li>
</ul>
<a name="runExample9()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>runExample9</h4>
<pre>void&nbsp;runExample9()</pre>
<div class="block">Example 9: Primary key table

 This example shows how all the fields in a table can be assigned
 as part of the primary key as a key-only table.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TableAPIExample.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><b>Oracle NoSQL Database Examples</b><br><font size=\"-1\"> version 12cR1.3.0.5</font>
      </em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../index.html?table/TableAPIExample.html" target="_top">Frames</a></li>
<li><a href="TableAPIExample.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><font size=1>Copyright (c) 2011, 2014 Oracle and/or its affiliates.  All rights reserved.</font> </small></p>
</body>
</html>
